{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/contacts.js","components/Notification.js","App.js","index.js"],"names":["Filter","text","onChange","console","log","PersonForm","onSubmit","id","type","Persons","name","number","handleDelete","onClick","baseUrl","axios","get","then","response","data","newObject","post","delete","newContact","put","Notification","message","cName","className","App","useState","persons","setPersons","filterString","setFilterString","setMessage","useEffect","contactService","returnedContacts","replacePerson","foundPerson","modifiedPerson","returnedPerson","map","person","setNotification","catch","error","filter","setTimeout","personsToShow","toUpperCase","includes","event","target","value","preventDefault","newPerson","document","getElementById","find","window","confirm","concat","key","p","ReactDOM","render"],"mappings":"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","file":"static/js/main.afb0bb9d.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = ({ text, onChange }) => {\r\n  console.log('Filter-komponentti kutsuttu!')\r\n  return (\r\n    <div>{text} <input onChange={onChange} /></div>\r\n  )\r\n}\r\n\r\nexport default Filter","import React from 'react';\r\n\r\nconst PersonForm = ({ onSubmit }) => {\r\n  console.log('PersonForm kutsuttu!');\r\n    \r\n  return (\r\n      <form onSubmit={onSubmit}>\r\n        <div>name: <input id='name' /></div>\r\n        <div>number: <input id='number' /></div>\r\n        <button type='submit'>add</button>\r\n      </form>\r\n    )\r\n  }\r\n\r\n  export default PersonForm","import React from 'react';\r\n\r\nconst Persons = ({ name, number, handleDelete }) => {\r\n  console.log('Persons propsit: ', name, number, handleDelete);\r\n\r\n  return (\r\n    <>\r\n      <p>{name} {number} <button type='button' onClick={handleDelete}>Delete</button></p>\r\n\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Persons","import axios from 'axios';\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst addNew = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = id => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst replaceContact = (id, newContact) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newContact)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, addNew, deletePerson, replaceContact}","import React from 'react';\r\n\r\nconst Notification = ({ message }) => {\r\n    console.log('Notificationin props: ', message.text, message.cName);\r\n    \r\n    if (message.text === null || message.cName === null) {\r\n        return null\r\n    } else {\r\n        return (\r\n            <div className={message.cName}>\r\n                {message.text}\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Notification","import React, { useState, useEffect } from 'react';\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport contactService from './services/contacts'\nimport Notification from './components/Notification'\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [filterString, setFilterString] = useState('')\n  const [message, setMessage] = useState({ text: null, cName: null })\n\n  const hook = () => {\n    console.log('effect');\n    contactService\n      .getAll()\n      .then(returnedContacts => {\n        console.log('promise fulfilled')\n        setPersons(returnedContacts)\n      })\n  }\n  useEffect(hook, [])\n\n  const addName = (event) => {\n    event.preventDefault()\n    const name = document.getElementById('name').value\n    const number = document.getElementById('number').value\n    const newPerson = { name, number }\n\n    const newPersonisOnTheList = persons.find(person => person.name.toUpperCase() === newPerson.name.toUpperCase())\n\n    if (newPersonisOnTheList) {\n      const foundPerson = persons.find(person => person.name.toUpperCase() === newPerson.name.toUpperCase())\n      const modifiedPerson = { ...newPerson }\n      const confirm = window.confirm(\n        `${foundPerson.name} is already added to phonebook, replace the old number with a new one?`)\n\n      if (confirm) replacePerson(foundPerson, modifiedPerson);\n\n    } else {\n      contactService\n        .addNew(newPerson)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n        })\n      setNotification(`Added ${newPerson.name}`, 'success')\n    }\n    document.getElementById('name').value = ''\n    document.getElementById('number').value = ''\n  }\n\n  const handleFilterChange = (event) => {\n    setFilterString(event.target.value.toUpperCase())\n  }\n\n  const handleDelete = (person) => {\n    const confirmDel = window.confirm(`Delete ${person.name}?`)\n    if (confirmDel) {\n      contactService\n        .deletePerson(person.id)\n        .then(setPersons(persons.filter(p => p.id !== person.id)))\n\n      setNotification(`Deleted ${person.name}`, 'success')\n    }\n  }\n\n  const replacePerson = (foundPerson, modifiedPerson) => {\n    contactService\n      .replaceContact(foundPerson.id, modifiedPerson)\n      .then(returnedPerson => {\n        setPersons(persons.map(person => person.id !== foundPerson.id ? person : returnedPerson))\n\n        setNotification(`Updated ${foundPerson.name}`, 'success')\n      })\n      .catch(error => {\n        console.log('virhe')\n        setNotification(`Information of ${foundPerson.name} has \n            already been removed from server`, 'error')\n\n        setPersons(persons.filter(person => person.id !== foundPerson.id))\n      })\n  }\n\n  const setNotification = ((text, cName) => {\n    setMessage({ text: text, cName: cName })\n    setTimeout(() => {\n      setMessage({ text: null, cName: null })\n    }, 5000)\n  })\n\n  const personsToShow = filterString === ''\n    ? persons\n    : persons.filter(person => person.name.toUpperCase().includes(filterString) || person.number.includes(filterString))\n\n  return (\n\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n\n      <Filter text='filter shown with' onChange={handleFilterChange} />\n\n      <h3>Add a new person</h3>\n\n      <PersonForm onSubmit={addName} />\n\n      <h3>Numbers</h3>\n\n      {personsToShow.map((person) =>\n        <Persons key={person.name} name={person.name} number={person.number}\n          handleDelete={() => handleDelete(person)} />\n      )}\n    </div>\n  )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}